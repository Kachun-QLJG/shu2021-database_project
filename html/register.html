<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>注册</title>
    <script type="text/javascript">
        function checkphone(){
            var check = false;
            var phone = document.getElementById("phone").value;
            if(phone.length !== 11){
                document.getElementById("checktext1").innerHTML = " × 请输入正确的手机号";
                check = false;
            } else {
                document.getElementById("checktext1").innerHTML = " √";
                check = true;
            }
            return check;
        }
        function checkpwd(){
            var check = false;
            var pswd = document.getElementById("pswd").value;
            if(pswd.length < 6){
                document.getElementById("checktext2").innerHTML = " × 不要少于6位";
                check = false;
            }
            else {
                document.getElementById("checktext2").innerHTML = " √";
                check = true;
            }
            return check;
        }
        function checkpwdc() {
            var check = false;
            var password = document.getElementById("pswd").value;
            var pwdc = document.getElementById("pwdc").value;
            if (password !== pwdc) {
                document.getElementById("checktext3").innerHTML = " × 两次输入密码不一致";
                check = false;
            }
            else {
                document.getElementById("checktext3").innerHTML = " √";
                check = true;
            }
            return check;
        }
        function check() {
            return checkphone() && checkpwd() && checkpwdc()
        }
        function copy() {
            document.getElementById("phone_number").value = document.getElementById("phone").value;
            document.getElementById("password").value = document.getElementById("pswd").value;
            document.getElementById("ver_code").value = document.getElementById("ver").value;
        }
    </script>
</head>

<body>
<form id="aform">
    <fieldset>
        <legend> 用户注册 </legend>
        <label> 用户名：</label>
        <input type="text" id="phone" name="phone" onKeyUp="value=value.replace(\[/D],'')" onchange="checkphone()" />
        <span id="checktext1"></span>
        </br></br>

        <label> 密码：</label>
        <input type="password" id="pswd" name="pswd" onchange="checkpwd()" onpaste="return false" onkeydown="if(event.keyCode==32) return false"/>
        <span id="checktext2"></span>
        </br></br>

        <label> 确认密码：</label>
        <input type="password" id="pwdc" name="pwdc" onchange="checkpwdc()" onpaste="return false" onkeydown="if(event.keyCode==32) return false"/>
        <span id="checktext3"></span>
        </br></br>

        <label> 验证码：</label>
        <input type="text" id="ver" name="ver"/>
        <img src="/captcha" onclick="this.src='/captcha?v='+Math.random()">
        </br></br>


    </fieldset>
</form> </br>
<form action="/register" method="post" onsubmit="return check()">
    <input type="hidden" id="phone_number" name="phone_number" />
    <input type="hidden" id="password" name="password" />
    <input type="hidden" id="ver_code" name="ver_code"/>
    <input type="submit" value="注册" onclick="copy()"/>
</form>
</body>
</html>